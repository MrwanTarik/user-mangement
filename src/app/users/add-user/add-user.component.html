<div class="dashboard-header d-flex justify-content-between align-items-center">
  <h2>Add User</h2>
  <a class="btn-yellow invisible" routerLink="/users/add">Add new user</a>
</div>

<form
  [formGroup]="addUserForm"
  (ngSubmit)="addUser(addUserForm)"
  class="users-form"
  action=""
>
  <div class="row gy-4">
    <div class="col-md-6">
      <div class="form-group">
        <label for="firstname">First Name</label>
        <input
          formControlName="firstName"
          type="text"
          placeholder="Enter your First Name"
          [class.is-invalid]="
            addUserForm.get('firstName')?.invalid &&
            addUserForm.get('firstName')?.touched
          "
        />
        <div
          class="text-danger"
          *ngIf="
            addUserForm.get('firstName')?.invalid &&
            addUserForm.get('firstName')?.touched
          "
        >
          <small *ngIf="addUserForm.get('firstName')?.errors?.['required']"
            >First name is required</small
          >
          <small *ngIf="addUserForm.get('firstName')?.errors?.['minlength']"
            >First name must be at least 2 characters</small
          >
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Last Name</label>
        <input
          formControlName="lastName"
          type="text"
          placeholder="Enter your Last Name"
          [class.is-invalid]="
            addUserForm.get('lastName')?.invalid &&
            addUserForm.get('lastName')?.touched
          "
        />
        <div
          class="text-danger"
          *ngIf="
            addUserForm.get('lastName')?.invalid &&
            addUserForm.get('lastName')?.touched
          "
        >
          <small *ngIf="addUserForm.get('lastName')?.errors?.['required']"
            >Last name is required</small
          >
          <small *ngIf="addUserForm.get('lastName')?.errors?.['minlength']"
            >Last name must be at least 2 characters</small
          >
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Email</label>
        <input
          formControlName="email"
          type="email"
          placeholder="Enter your Email"
          [class.is-invalid]="
            addUserForm.get('email')?.invalid &&
            addUserForm.get('email')?.touched
          "
        />
        <div
          class="text-danger"
          *ngIf="
            addUserForm.get('email')?.invalid &&
            addUserForm.get('email')?.touched
          "
        >
          <small *ngIf="addUserForm.get('email')?.errors?.['required']"
            >Email is required</small
          >
          <small *ngIf="addUserForm.get('email')?.errors?.['email']"
            >Please enter a valid email</small
          >
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Age</label>
        <input
          formControlName="age"
          type="number"
          placeholder="Enter your Age"
          [class.is-invalid]="
            addUserForm.get('age')?.invalid && addUserForm.get('age')?.touched
          "
        />
        <div
          class="text-danger"
          *ngIf="
            addUserForm.get('age')?.invalid && addUserForm.get('age')?.touched
          "
        >
          <small *ngIf="addUserForm.get('age')?.errors?.['required']"
            >Age is required</small
          >
          <small *ngIf="addUserForm.get('age')?.errors?.['min']"
            >Age must be at least 1</small
          >
          <small *ngIf="addUserForm.get('age')?.errors?.['max']"
            >Age must be less than 120</small
          >
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Phone Number</label>
        <input
          formControlName="phone"
          type="tel"
          placeholder="Enter your Phone Number"
          [class.is-invalid]="
            addUserForm.get('phone')?.invalid &&
            addUserForm.get('phone')?.touched
          "
        />
        <div
          class="text-danger"
          *ngIf="
            addUserForm.get('phone')?.invalid &&
            addUserForm.get('phone')?.touched
          "
        >
          <small *ngIf="addUserForm.get('phone')?.errors?.['required']"
            >Phone number is required</small
          >
          <small *ngIf="addUserForm.get('phone')?.errors?.['pattern']"
            >Please enter a valid phone number (10-15 digits)</small
          >
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label for="username">Birth Date</label>
        <input
          formControlName="birthDate"
          type="date"
          placeholder="Select your Birth Date"
          [class.is-invalid]="
            addUserForm.get('birthDate')?.invalid &&
            addUserForm.get('birthDate')?.touched
          "
        />
        <div
          class="text-danger"
          *ngIf="
            addUserForm.get('birthDate')?.invalid &&
            addUserForm.get('birthDate')?.touched
          "
        >
          <small *ngIf="addUserForm.get('birthDate')?.errors?.['required']"
            >Birth date is required</small
          >
        </div>
      </div>
    </div>
    <button
      type="submit"
      style="margin: 40px auto 0; max-width: 415px"
      class="btn-yellow"
      [disabled]="addUserForm.invalid"
    >
      Save
    </button>
  </div>
</form>
